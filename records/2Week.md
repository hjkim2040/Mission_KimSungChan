# 2Week_김성찬.md

## Title: [2Week] 김성찬

### 미션 요구사항 분석 & 체크리스트

---
미션

- 호감표시 할 때 예외처리 케이스 3가지를 추가로 처리
  - 한명의 인스타회원이 다른 인스타회원에게 중복으로 호감표시를 할 수 없습니다.
  - 한명의 인스타회원이 11명 이상의 호감상대를 등록 할 수 없습니다.
  - 케이스 4 가 발생했을 때 기존의 사유와 다른 사유로 호감을 표시하는 경우에는 성공으로 처리한다.


### 체크리스트

---

- 중복 호감 표시했을 때 오류 메세지 출력
  - rq.historyBack 사용<br></br>
- 한명의 인스타회원이 11명 이상의 호감상대를 등록했을 때 오류 메세지 출력
  - rq.historyBack 사용<br></br>
- 중복 호감 표시했을 때 기존의 사유와 다른 사유로 호감을 표시하는 경우 새로운 호감 표시 등록 대신 사유 수정
  - 호감 변경 메세지 출력<br></br>
- 위의 3가지 경우 테스트 코드 작성


### 2주차 미션 요약

---

**[접근 방법]**

- fromInstaMemberId 및 toInstaMemberId를 가진 LikeablePerson 객체가 이미 존재하는지 확인
- existingLikes는 이러한 객체의 목록을 저장
- 목록이 비어 있지 않은 경우, 즉 fromInstaMemberId 및 toInstaMemberId가 동일한 LikeablePerson 객체가 이미 존재하는 경우 오류 메시지 출력
- LikeablePersonRepository에서 findByFromInstaMemberId 메서드를 호출하여 회원이 이미 10개 이상의 호감 상대를 가지고 있는지 확인
- 반환된 리스트의 크기가 10보다 크면 11개 이상의 호감을 가질 수 없음을 알리는 오류 메시지를 출력
- 중복된 호감 표시를 발견했을 때 existingLikes리스트에서 LikeablePerson객체를 검색 
- LikeablePerson의 호감사유가 existingLikes의 호감 사유와 다른지 확인
- 그 이유가 다르면 LikeablePerson 객체의 호감 사유를 변경하고 변경 사항을 리포지토리에 저장한 후 성공 메시지를 출력
- 호감 사유가 같으면 원래 오류 메시지를 출력하여 동일한 인스타멤버에게 여러 번 호감 표시를 할 수 없음을 알림


**[특이사항]**

- 강사님 힌트를 듣고 그걸 활용하여 중복 호감 표시 금지 기능을 구현하려 했으나 실패....


**[추가, 보완 사항]**

